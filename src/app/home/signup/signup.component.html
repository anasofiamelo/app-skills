
<form [formGroup]="signupForm" class="form mt-4" (submit)="signup()">
    <h2> Register </h2> 
    <div class="form-group">
        <label for="user">User</label>
        <i class="fa fa-user-o" aria-hidden="true"></i>
        <input #userInput formControlName="user" placeholder="User" class="input" autofocus >
    </div>

    <div class="errors"> 
        <app-vmessage
        *ngIf="signupForm.get('user').errors?.minlength"
        text="Minimum length is 2">
    </app-vmessage>
    <app-vmessage
        *ngIf="signupForm.get('user').errors?.maxlength"
        text="Maximum length is 30">
    </app-vmessage>
    <app-vmessage
        *ngIf="signupForm.get('user').errors?.pattern"
        text="Must be lowercase">
    </app-vmessage>
    <app-vmessage
        *ngIf="signupForm.get('user').errors?.userTaken"
        text="User already taken">
    </app-vmessage>
    <small *ngIf="signupForm.get('user').valid" class="text-success"> User available</small>
    </div>
    
    <div class="form-group">
        <label for="nome">Name</label>
        <i class="fa fa-address-card-o" aria-hidden="true"></i>
        <input formControlName="nome" placeholder="Full name" class="input">
    </div>

    <div class="errors">
        <app-vmessage
        *ngIf="signupForm.get('nome').errors?.minlength"
        text="Minimum length is 2">
    </app-vmessage>
    <app-vmessage
        *ngIf="signupForm.get('nome').errors?.maxlength"
        text="Maximum length is 40">
    </app-vmessage>
    </div>
    
    <div class="form-group">
        <label for="senha">Password</label>
        <i class="fa fa-lock" aria-hidden="true"></i>
        <input type="password" formControlName="senha" placeholder="******" class="input">
    </div>

    <div class="errors">
        <app-vmessage
        *ngIf="signupForm.get('senha').errors?.minlength"
        text="Minimum length is 8">
    </app-vmessage>
        <app-vmessage
            *ngIf="signupForm.get('senha').errors?.maxlength"
            text="Maximum length is 14">
        </app-vmessage>
    </div>
    
    <div class="form-group">
        <label for="email">Email</label>
        <i class="fa fa-envelope-o" aria-hidden="true"></i>
        <input
        formControlName="email" placeholder="Email" class="input">
    </div>

    <div class="errors">
        <app-vmessage
        *ngIf="signupForm.get('email').errors?.email"
        text="Invalid e-mail">
    </app-vmessage>
    </div>
    
    <p class="signin-container">Already a user?<a class="signin" [routerLink]="['']"> Sign In!</a></p>

    <div class="btn-container">
        <button [disabled]="signupForm.invalid || signupForm.pending" class="btn">Register</button>
    </div>

    
</form>
 